{
  "steps": [
    {
      "id": "1",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "categories",
        "schema": {
          "categories": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "name",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "slug",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "parent_id",
                "type": "INTEGER",
                "constraints": [
                  "FOREIGN KEY REFERENCES categories(id) ON DELETE SET NULL"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "n_example": 10
      },
      "desc": "Generate mock data function for categories table"
    },
    {
      "id": "2",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "products",
        "schema": {
          "categories": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "name",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "slug",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "parent_id",
                "type": "INTEGER",
                "constraints": [
                  "FOREIGN KEY REFERENCES categories(id) ON DELETE SET NULL"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          },
          "products": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "name",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL"
                ]
              },
              {
                "name": "sku",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "category_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES categories(id) ON DELETE RESTRICT"
                ]
              },
              {
                "name": "price",
                "type": "NUMERIC(10, 2)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (price >= 0)"
                ]
              },
              {
                "name": "is_active",
                "type": "BOOLEAN",
                "constraints": [
                  "DEFAULT true"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "fk_deps": [
          "categories"
        ],
        "n_example": 20
      },
      "desc": "Generate mock data function for products table (depends on categories)"
    },
    {
      "id": "3",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "users",
        "schema": {
          "users": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "username",
                "type": "VARCHAR(50)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "email",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "n_example": 15
      },
      "desc": "Generate mock data function for users table"
    },
    {
      "id": "4",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "orders",
        "schema": {
          "users": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "username",
                "type": "VARCHAR(50)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "email",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          },
          "orders": {
            "columns": [
              {
                "name": "id",
                "type": "UUID",
                "constraints": [
                  "PRIMARY KEY",
                  "DEFAULT gen_random_uuid()"
                ]
              },
              {
                "name": "user_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES users(id) ON DELETE CASCADE"
                ]
              },
              {
                "name": "status",
                "type": "VARCHAR(20)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (status IN ('pending', 'paid', 'shipped', 'cancelled'))"
                ]
              },
              {
                "name": "total_amount",
                "type": "NUMERIC(12, 2)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (total_amount >= 0)"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "fk_deps": [
          "users"
        ],
        "n_example": 25
      },
      "desc": "Generate mock data function for orders table (depends on users)"
    },
    {
      "id": "5",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "user_addresses",
        "schema": {
          "users": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "username",
                "type": "VARCHAR(50)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "email",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          },
          "user_addresses": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "user_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES users(id) ON DELETE CASCADE"
                ]
              },
              {
                "name": "address_line1",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL"
                ]
              },
              {
                "name": "address_line2",
                "type": "VARCHAR(255)",
                "constraints": []
              },
              {
                "name": "city",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL"
                ]
              },
              {
                "name": "postal_code",
                "type": "VARCHAR(20)",
                "constraints": []
              },
              {
                "name": "country",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL"
                ]
              },
              {
                "name": "is_default",
                "type": "BOOLEAN",
                "constraints": [
                  "DEFAULT false"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "fk_deps": [
          "users"
        ],
        "n_example": 30
      },
      "desc": "Generate mock data function for user_addresses table (depends on users)"
    },
    {
      "id": "6",
      "tool": "generate_mock_function",
      "args": {
        "table_name": "order_items",
        "schema": {
          "orders": {
            "columns": [
              {
                "name": "id",
                "type": "UUID",
                "constraints": [
                  "PRIMARY KEY",
                  "DEFAULT gen_random_uuid()"
                ]
              },
              {
                "name": "user_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES users(id) ON DELETE CASCADE"
                ]
              },
              {
                "name": "status",
                "type": "VARCHAR(20)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (status IN ('pending', 'paid', 'shipped', 'cancelled'))"
                ]
              },
              {
                "name": "total_amount",
                "type": "NUMERIC(12, 2)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (total_amount >= 0)"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          },
          "products": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "name",
                "type": "VARCHAR(255)",
                "constraints": [
                  "NOT NULL"
                ]
              },
              {
                "name": "sku",
                "type": "VARCHAR(100)",
                "constraints": [
                  "NOT NULL",
                  "UNIQUE"
                ]
              },
              {
                "name": "category_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES categories(id) ON DELETE RESTRICT"
                ]
              },
              {
                "name": "price",
                "type": "NUMERIC(10, 2)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (price >= 0)"
                ]
              },
              {
                "name": "is_active",
                "type": "BOOLEAN",
                "constraints": [
                  "DEFAULT true"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              },
              {
                "name": "updated_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          },
          "order_items": {
            "columns": [
              {
                "name": "id",
                "type": "SERIAL",
                "constraints": [
                  "PRIMARY KEY"
                ]
              },
              {
                "name": "order_id",
                "type": "UUID",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES orders(id) ON DELETE CASCADE"
                ]
              },
              {
                "name": "product_id",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "FOREIGN KEY REFERENCES products(id) ON DELETE RESTRICT"
                ]
              },
              {
                "name": "quantity",
                "type": "INTEGER",
                "constraints": [
                  "NOT NULL",
                  "CHECK (quantity > 0)"
                ]
              },
              {
                "name": "unit_price",
                "type": "NUMERIC(10, 2)",
                "constraints": [
                  "NOT NULL",
                  "CHECK (unit_price >= 0)"
                ]
              },
              {
                "name": "created_at",
                "type": "TIMESTAMP WITH TIME ZONE",
                "constraints": [
                  "DEFAULT now()"
                ]
              }
            ]
          }
        },
        "fk_deps": [
          "orders",
          "products"
        ],
        "n_example": 50
      },
      "desc": "Generate mock data function for order_items table (depends on orders and products)"
    },
    {
      "id": "7",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_1.code",
        "tablename": "categories",
        "n": 10
      },
      "desc": "Insert mock data into categories table"
    },
    {
      "id": "8",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_2.code",
        "tablename": "products",
        "n": 20
      },
      "desc": "Insert mock data into products table"
    },
    {
      "id": "9",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_3.code",
        "tablename": "users",
        "n": 15
      },
      "desc": "Insert mock data into users table"
    },
    {
      "id": "10",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_4.code",
        "tablename": "orders",
        "n": 25
      },
      "desc": "Insert mock data into orders table"
    },
    {
      "id": "11",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_5.code",
        "tablename": "user_addresses",
        "n": 30
      },
      "desc": "Insert mock data into user_addresses table"
    },
    {
      "id": "12",
      "tool": "insert_mock_data",
      "args": {
        "code": "@step_6.code",
        "tablename": "order_items",
        "n": 50
      },
      "desc": "Insert mock data into order_items table"
    }
  ]
}